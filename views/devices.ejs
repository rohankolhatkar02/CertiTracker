<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Inspirit Vision-Certifications</title>
  </head>
  <style>
    body {
  background-color: #ffffff;
}

    .excel-table {
  border-collapse: collapse;
  font-family: Arial, sans-serif;
  font-size: 14px;
  justify-content: center;
  align-items: center;  
}

.excel-table td, .excel-table th {
  border: 1px solid #ddd;
  padding: 8px;
  text-align: left;
}

.excel-table th {
  background-color: #7800ce;
  color: white;
  font-weight: bold;
}

.excel-table tr:nth-child(even) {
  background-color: #f2f2f2;
}
input[type="submit"], input[type="reset"]  {
  background-color: #7800ce;
  border: none;
  color: white;
  padding: 10px 18px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 12px;
  font-weight: bold;
  border-radius: 5px;
  cursor: pointer;
 
}

input[type="submit"]:hover,
input[type="reset"]:hover {
  background-color: #7a1ff3;
}

  </style>
  <body>
    <h1><u>Inspirit Vision-Employee Certifications</u></h1>
    <table class="excel-table">
      <tr>
        <th>Name</th>
        <th>Certification</th>
        <th>Planned</th>
        <th>Registered</th>
        <th>Cleared</th>
        <th>Completed</th>
        <th>Comments</th>
      </tr>
      <% var group = {}; %>
      <% devices.forEach(function(device) {
            if (!group[device.name]) {
                group[device.name] = [];
            }
            group[device.name].push(device);
         });
         Object.keys(group).forEach(function(name) { %>
         <tr>
            <td rowspan="<%= group[name].length %>"><%= name %></td>
            <% group[name].forEach(function(device, index) { %>
                <% if (index > 0) { %>
                <tr>
                <% } %>
                <td><%= device.certification %></td>
                <td><% if (device.planned) { %><%= new Date(device.planned).toLocaleDateString() %><% } else { %>-<% } %></td>
                <td><%= device.registered %></td>
                <td><%= device.cleared %></td>
                <td><% if (device.completed) { %><%= new Date(device.completed).toLocaleDateString() %><% } else { %>-<% } %></td>
                <td><%= device.comments %></td>
                <% if (index > 0) { %>
                </tr>
                <% } %>
            <% }); %>
         </tr>
      <% }); %>
    </table>
    
    
    <!--FORM FOR ADDITION-->

    <h1><u>Add Certifications</u></h1> 
    <form action="/add" method="POST">
      <table class="excel-table">
        <tr>
          <th>Name</th>
          <th>Certification</th>
          <th>Planned</th>
          <th>Registered</th>
          <th>Cleared</th>
          <th>Completed</th>
          <th>Comments</th>
        </tr>
        <tr>
          <td><input type="text" name="name" /></td>
          <td><input type="text" name="certification" /></td>
          <td><input type="date" name="planned" /></td>
          <td>
            <select name="registered">
              <option value="">--Select--</option>
              <option value="yes">Yes</option>
              <option value="no">No</option>
            </select>
          </td>
          <td>
            <select name="cleared">
              <option value="">--Select--</option>
              <option value="yes">Yes</option>
              <option value="no">No</option>
            </select>
          </td>
          <td><input type="date" name="completed" /></td>
          <td><input type="text" name="comments" /></td>
        </tr>
      </table>
      <br>
      <input type="submit" value="Add Records" formaction="/add"/>
      <input type="submit" value="Update Records" formaction="/update"/>
      <input type="reset" value="Reset" />
      <br />
      <br />
      <input type="submit" value="Delete Records" formaction="/delete">
    </form>
    
  <!-- FORM FOR UPDATION -->
  <!-- <h1><u>Update Certifications</u></h1> 
  <form action="/update" method="POST">
    <table class="excel-table">
      <tr>
        <th>Name</th>
        <th>Certification</th>
        <th>Planned</th>
        <th>Registered</th>
        <th>Cleared</th>
        <th>Completed</th>
        <th>Comments</th>
      </tr>
      <tr>
        <td><input type="text" name="name" /></td>
        <td><input type="text" name="certification" /></td>
        <td><input type="date" name="planned" /></td>
        <td><input type="text" name="registered" /></td>
        <td><input type="text" name="cleared" /></td>
        <td><input type="date" name="completed" /></td>
        <td><input type="text" name="comments" /></td>
      </tr>
    </table>
    <br>
    <input type="submit" value="Submit" />
    <input type="reset" value="Reset" />
  </form> -->

   <!-- FORM FOR DELETION -->
   <!-- <h1><u>Delete Certifications</u></h1> 
   <form action="/delete" method="POST">        
     <table class="excel-table">
       <tr>
         <th>Name</th>
       </tr>
       <tr>
         <td><input type="text" name="name" /></td>
       </tr>
     </table>
     <br>
     <input type="submit" value="Submit" />
     <input type="reset" value="Reset" />
   </form> -->
  </body>
</html>
